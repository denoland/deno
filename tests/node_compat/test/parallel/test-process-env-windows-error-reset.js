// deno-fmt-ignore-file
// deno-lint-ignore-file

// Copyright Joyent and Node contributors. All rights reserved. MIT license.
// Taken from Node 23.9.0
// This file is automatically generated by `tests/node_compat/runner/setup.ts`. Do not modify this file manually.

'use strict';
require('../common');
const assert = require('assert');

// This checks that after accessing a missing env var, a subsequent
// env read will succeed even for empty variables.

{
  process.env.FOO = '';
  process.env.NONEXISTENT_ENV_VAR; // eslint-disable-line no-unused-expressions
  const foo = process.env.FOO;

  assert.strictEqual(foo, '');
}

{
  process.env.FOO = '';
  process.env.NONEXISTENT_ENV_VAR; // eslint-disable-line no-unused-expressions
  const hasFoo = 'FOO' in process.env;

  assert.strictEqual(hasFoo, true);
}
