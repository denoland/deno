# Copyright 2018-2026 the Deno authors. MIT license.

[package]
name = "test_util"
version = "0.1.0"
authors.workspace = true
edition.workspace = true
license.workspace = true
publish = false
repository.workspace = true

[lib]
path = "lib.rs"

[features]
lsp = ["dep:lsp-types", "dep:indexmap", "dep:percent-encoding"]

[dependencies]
anyhow.workspace = true
console_static_text.workspace = true
crossterm.workspace = true
file_test_runner.workspace = true
fluent-uri.workspace = true
inventory.workspace = true
jsonc-parser.workspace = true
lazy-regex.workspace = true
libc.workspace = true
monch.workspace = true
once_cell.workspace = true
os_pipe.workspace = true
parking_lot.workspace = true
pretty_assertions.workspace = true
regex.workspace = true
serde.workspace = true
serde_json.workspace = true
sha2.workspace = true
tempfile.workspace = true
termcolor.workspace = true
test_macro.workspace = true
twox-hash.workspace = true
url.workspace = true

# optional deps behind "lsp" feature
indexmap = { workspace = true, optional = true }
lsp-types = { workspace = true, optional = true }
percent-encoding = { workspace = true, optional = true }

[target.'cfg(windows)'.dependencies]
winapi = { workspace = true, features = ["consoleapi", "synchapi", "handleapi", "namedpipeapi", "sysinfoapi", "winbase", "winerror"] }
win32job.workspace = true

[target.'cfg(unix)'.dependencies]
nix = { workspace = true, features = ["fs", "term", "signal"] }
